- DEVSTACK_DIR="${HOME}/devstack"
- mkdir -p ${DEVSTACK_DIR}
- apt-get update
- apt-get install -y git
- git clone https://git.openstack.org/openstack-dev/devstack.git ${DEVSTACK_DIR}
- copy local.conf available at [1] into ${DEVSTACK_DIR}
- sudo git clone https://github.com/devdattakulkarni/nova-docker.git /opt/stack/nova-docker
- cd /opt/stack/nova-docker
- git checkout reconciling-changes
- python setup.py install
- sudo groupadd docker
- sudo gpasswd -a ${USER} docker
- sudo chmod o=rwx /var/run/docker.sock
- sudo service docker restart
- git clone https://github.com/openstack/nova.git /opt/stack/nova
- git checkout e52d236a3f1740997890cad9d4726df01d5a7e5d
- python setup.py install
- Edit /etc/nova/nova.conf and add following lines:
  - compute_driver = novadocker.virt.docker.driver.DockerDriver
  - scheduler_driver = nova.scheduler.filter_scheduler.FilterScheduler
- sudo cp /opt/stack/nova-docker/etc/nova/rootwrap.d/docker.filters /etc/nova/rootwrap.d/.


[1] https://raw.githubusercontent.com/devdattakulkarni/solum-provenance/master/local.conf

Notes:
- https://raw.githubusercontent.com/devdattakulkarni/solum-provenance/master/local.conf